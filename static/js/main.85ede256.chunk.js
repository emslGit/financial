(this["webpackJsonpfinancial-planner"]=this["webpackJsonpfinancial-planner"]||[]).push([[0],{160:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),s=n(43),l=n.n(s),c=(n(50),n(7)),o=n(44),u=(n(58),n(0)),i=Object(a.forwardRef)((function(e,t){var n=e.text,a=e.unit,r=e.options;return Object(u.jsxs)("span",{className:"InputComponent",children:[Object(u.jsx)("p",{children:n}),Object(u.jsx)("input",{ref:t,type:(null===r||void 0===r?void 0:r.type)||"number",maxLength:(null===r||void 0===r?void 0:r.maxLength)||"",defaultValue:(null===r||void 0===r?void 0:r.defaultValue)||""}),Object(u.jsx)("p",{children:a})]})})),j=(n(60),n(27),function(e){var t=e.text,n=e.stat;return Object(u.jsxs)("span",{className:"StatsComponent",children:[Object(u.jsx)("p",{children:t}),Object(u.jsx)("p",{children:n[0].toLocaleString()+" "+n[1]})]})}),b=n(45),d=function(e){var t=e.title,n=e.data,a=e.yLabel;return Object(u.jsx)(b.Bar,{data:n,options:{title:{display:!0,text:t,fontSize:20},scales:{yAxes:[{scaleLabel:{display:!0,labelString:a}}]},legend:{display:!0,position:"right"}}})},f=function(){var e=new Date,t=Object(a.useState)({}),n=Object(c.a)(t,2),r=n[0],s=n[1],l=Object(a.useState)({}),b=Object(c.a)(l,2),f=b[0],p=b[1],h=Object(a.useState)({worst:"",best:"",mean:"",sigma:"",s1:"",s2:""}),x=Object(c.a)(h,2),O=x[0],g=x[1],v=Object(a.useState)("SEK"),m=Object(c.a)(v,2),y=m[0],R=m[1],S=Object(a.useRef)("SEK"),w=Object(a.useRef)(null),C=Object(a.useRef)(null),F=Object(a.useRef)(null),M=Object(a.useRef)(null),V=Object(a.useRef)(null),L=Object(a.useRef)(null),k=Object(a.useRef)(null),E=Object(a.useRef)(null),A=Object(a.useRef)(null),N=Object(a.useRef)(null),W=Object(a.useRef)(null),I=Object(a.useRef)(null),D=Object(a.useRef)(null);String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)};var U=function(e){return e<=1e4?.15:8e4<=e&&e<1e5?.4:1e5<=e?.45:(30.7+14.3*Math.sin(256e-7*e-1.3))/100},Y=function(t){var n=e.getFullYear(),a=parseFloat(F.current.value)||0,r=parseFloat(W.current.value)||0,l=parseFloat(I.current.value)||0,c=parseFloat(A.current.value)||0,u=parseFloat(N.current.value)||0,i=1+parseFloat(L.current.value)/100||1,j=1+parseFloat(E.current.value)/100||1,b=Math.max(C.current.value-w.current.value,0),d=[],f=[],h=[a*t],x={sigmas:[],outcomes:[]},O=1;do{for(var v=parseFloat(V.current.value)||0,m=parseFloat(k.current.value)||0,R=new Object({years:[n],worth:[a],salaryWorth:[Math.round(12*(v*(1-U(v))-m))],fees:[12*Math.round(v-m)*(r+l)/100]}),S=0;++S<parseFloat(M.current.value);){var D=R.years.length,Y=b&&b<S?12*-m:12*(v*(1-U(v))-m),z=Math.round((Y+R.worth[D-1])*(1+(o.normal.mean(c,u)-(r+l))/100));R.years.splice(D,0,n+S),R.salaryWorth.splice(D,0,b&&b<S?R.salaryWorth[D-1]:Math.round(Y+R.salaryWorth[D-1])),R.worth.splice(D,0,z),R.fees.splice(D,0,Math.round((Y+R.worth[D-1])*(r+l)/100)),h[S]=(h[S]||0)+z,v*=i,m*=j}f.splice(f.length,0,R.worth[S-1]),d.splice(d.length,0,R)}while(O++<t);f.sort((function(e,t){return e-t})),h=h.map((function(e){return Math.round(e/d.length)}));var K=function(e){var t=Math.round(e.reduce((function(e,t){return e+t}))/e.length),n=Math.round(Math.sqrt(e.reduce((function(e,n){return e+Math.pow(n-t,2)}),0)/(e.length-1)));return{mean:t,sigma:n}}(f),P=K.mean,B=K.sigma,T={};f.forEach((function(e){var t=P-e,n=t>0?Math.ceil(t/B):Math.floor(t/B);T[n]=T[n]?T[n]+1:1})),Object.keys(T).sort((function(e,t){return e-t})).forEach((function(e){x.sigmas.splice(x.sigmas.length,0,e),x.outcomes.splice(x.outcomes.length,0,T[e])})),g({best:[f[f.length-1],y],worst:[f[0],y],mean:[P,y],sigma:[B,y],s1:[(100*((T[-1]||0)+(T[1]||0))/d.length).toPrecision(4),"%"],s2:[(100*((T[-1]||0)+(T[1]||0)+(T[-2]||0)+(T[2]||0))/d.length).toPrecision(4),"%"]}),s({labels:d[0].years,datasets:[{label:"Total",backgroundColor:"darkslateblue",borderColor:"rgba(0,0,0,1)",borderWidth:2,data:h},{label:"Invested",backgroundColor:"rgba(0,192,0,1)",borderColor:"rgba(0,0,0,1)",borderWidth:2,data:d[0].salaryWorth},{label:"Fees & Inflation",backgroundColor:"rgba(192,0,0,1)",borderColor:"rgba(0,0,0,1)",borderWidth:2,data:d[0].fees}]}),p({labels:x.sigmas,datasets:[{label:"Outcomes",backgroundColor:"darkslateblue",borderColor:"rgba(0,0,0,1)",borderWidth:2,data:x.outcomes}]})};return Object(u.jsxs)("div",{className:"App flex-center",children:[Object(u.jsxs)("div",{className:"wrapper flex-rows",children:[Object(u.jsxs)("div",{className:"finance-inputs",children:[Object(u.jsxs)("header",{className:"flex-between",children:[Object(u.jsx)("h1",{children:"Financial planner"}),Object(u.jsxs)("select",{ref:S,onChange:function(){return R(S.current.value)},children:[Object(u.jsx)("option",{value:"SEK",children:"SEK"}),Object(u.jsx)("option",{value:"USD",children:"USD"}),Object(u.jsx)("option",{value:"EUR",children:"EUR"})]})]}),Object(u.jsx)("br",{}),Object(u.jsx)(i,{text:"Your age:",unit:"Yrs",ref:w,options:{type:"text",maxLength:2,defaultValue:25}}),Object(u.jsx)(i,{text:"Retirement age:",unit:"Yrs",ref:C,options:{type:"text",maxLength:2,defaultValue:45}}),Object(u.jsx)(i,{text:"Duration to analyze:",unit:"Yrs",ref:M,options:{type:"text",maxLength:2,defaultValue:25}}),Object(u.jsx)(i,{text:"Starting capital:",unit:y,ref:F,options:{defaultValue:25e4}}),Object(u.jsx)("hr",{}),Object(u.jsx)(i,{text:"Monthly gross salary:",unit:y,ref:V,options:{defaultValue:32e3}}),Object(u.jsx)(i,{text:"Annual salary increase:",unit:"%",ref:L,options:{type:"percent",defaultValue:5}}),Object(u.jsx)(i,{text:"Monthly costs:",unit:y,ref:k,options:{defaultValue:12e3}}),Object(u.jsx)(i,{text:"Annual costs increase:",unit:"%",ref:E,options:{type:"percent",defaultValue:5}}),Object(u.jsx)("hr",{}),Object(u.jsx)(i,{text:"Annual ROI excl. fees:",unit:"%",ref:A,options:{type:"percent",defaultValue:10.5}}),Object(u.jsx)(i,{text:"Standard deviation:",unit:"%",ref:N,options:{type:"percent",defaultValue:16}}),Object(u.jsx)(i,{text:"Annual fees:",unit:"%",ref:W,options:{type:"percent",defaultValue:3}}),Object(u.jsx)(i,{text:"Inflation:",unit:"%",ref:I,options:{type:"percent",defaultValue:2}}),Object(u.jsx)("hr",{}),Object(u.jsxs)("span",{className:"flex-rows flex-between",children:[Object(u.jsx)(i,{text:"Iterations:",unit:"",ref:D,options:{type:"text",maxLength:6,defaultValue:1e3}}),Object(u.jsx)("button",{onClick:function(){return Y(D.current.value)},children:"Run Analysis"})]}),Object(u.jsx)("hr",{}),O.best&&Object(u.jsx)("div",{className:"flex-cols",children:Object.keys(O).map((function(e){return Object(u.jsx)(j,{text:e.capitalize()+":",stat:O[e.toLowerCase()]})}))})]}),Object(u.jsxs)("div",{className:"flex-cols",children:[Object(u.jsx)(d,{title:"Expected returns",data:r,yLabel:y}),Object(u.jsx)(d,{title:"Standard deviations",data:f,yLabel:y})]})]}),Object(u.jsxs)("footer",{children:[Object(u.jsx)("hr",{}),"All Rights Reserved Emanuel Sl\xe4tteby 2021"]})]})},p=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,161)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,l=t.getTTFB;n(e),a(e),r(e),s(e),l(e)}))};l.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(f,{})}),document.getElementById("root")),p()},27:function(e,t,n){},50:function(e,t,n){},58:function(e,t,n){},60:function(e,t,n){}},[[160,1,2]]]);
//# sourceMappingURL=main.85ede256.chunk.js.map