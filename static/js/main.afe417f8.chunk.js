(this["webpackJsonpfinancial-planner"]=this["webpackJsonpfinancial-planner"]||[]).push([[0],{163:function(e,t,n){},164:function(e,t,n){},165:function(e,t,n){},166:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),l=n(45),s=n.n(l),c=(n(52),n(47)),u=n(5),o=n(46),i=(n(60),n(61),n(0)),d=Object(a.forwardRef)((function(e,t){var n=e.text,a=e.unit,r=e.options;return Object(i.jsxs)("span",{className:"InputComponent",children:[Object(i.jsx)("p",{children:n}),Object(i.jsx)("input",{ref:t,type:(null===r||void 0===r?void 0:r.type)||"number",maxLength:(null===r||void 0===r?void 0:r.maxLength)||"",defaultValue:(null===r||void 0===r?void 0:r.defaultValue)||""}),Object(i.jsx)("p",{children:a})]})})),j=(n(63),function(e){var t=e.text,n=e.stat;return Object(i.jsxs)("span",{className:"StatsComponent",children:[Object(i.jsx)("p",{children:Object(i.jsx)("b",{children:t})}),Object(i.jsx)("p",{children:n[0].toLocaleString().replaceAll(","," ")+" "+n[1]})]})}),b=n(27),p=(n(163),function(e){var t=e.type,n=e.title,a=e.data,r=e.xLabel,l=e.yLabel,s={title:{display:!0,text:n,fontSize:20},scales:{xAxes:[{scaleLabel:{display:r,labelString:r}}],yAxes:[{scaleLabel:{display:l,labelString:l}}]},legend:{display:e.legend,position:"bottom"}};return Object(i.jsxs)("div",{className:"ChartWrapperComponent",children:["bar"===t&&Object(i.jsx)(b.Bar,{data:a,options:s}),"line"===t&&Object(i.jsx)(b.Line,{data:a,options:s})]})}),x=(n(164),function(e){var t=e.addExtra,n=e.currency,r=(new Date).getFullYear(),l=Object(a.useRef)(null),s=Object(a.useRef)(null),c=Object(a.useRef)(null),u=Object(a.useRef)(null),o=Object(a.useRef)(null),d=Object(a.useRef)(null);return Object(i.jsxs)("div",{className:"AddExtrasComponent flex-cols",children:[Object(i.jsxs)("span",{children:[Object(i.jsxs)("span",{children:[Object(i.jsx)("p",{children:"Name of event: "}),Object(i.jsx)("input",{ref:l,type:"text"})]}),Object(i.jsxs)("span",{children:[Object(i.jsx)("p",{children:"Starting anno: "}),Object(i.jsx)("input",{ref:s,type:"number"})]}),Object(i.jsxs)("span",{children:[Object(i.jsx)("p",{children:"Ending anno: "}),Object(i.jsx)("input",{ref:c,type:"number"})]})]}),Object(i.jsxs)("span",{children:[Object(i.jsxs)("span",{children:[Object(i.jsx)("p",{children:"Initial impact: "}),Object(i.jsxs)("span",{children:[Object(i.jsx)("input",{ref:u,type:"number"}),Object(i.jsx)("p",{children:n})]})]}),Object(i.jsxs)("span",{children:[Object(i.jsx)("p",{children:"Final impact: "}),Object(i.jsxs)("span",{children:[Object(i.jsx)("input",{ref:o,type:"number"}),Object(i.jsx)("p",{children:n})]})]}),Object(i.jsxs)("span",{children:[Object(i.jsx)("p",{children:"Annual impact: "}),Object(i.jsxs)("span",{children:[Object(i.jsx)("input",{ref:d,type:"number"}),Object(i.jsx)("p",{children:n})]})]})]}),Object(i.jsx)("button",{onClick:function(){return t(function(){var e,t,n,a=null===(e=l.current)||void 0===e?void 0:e.value,i=parseInt(null===(t=s.current)||void 0===t?void 0:t.value),j=parseInt((null===(n=c.current)||void 0===n?void 0:n.value)||i);if(a)if(i<r)s.current.focus();else{if(!(j<i)){for(var b,p,x,h,f=[],O=i;O<=j;O++)f.push(O);var v={id:Math.floor(1e4*Math.random()),name:null===(b=l.current)||void 0===b?void 0:b.value,period:f,first:parseFloat(null===(p=u.current)||void 0===p?void 0:p.value)||0,last:parseFloat(null===(x=o.current)||void 0===x?void 0:x.value)||0,annual:parseFloat(null===(h=d.current)||void 0===h?void 0:h.value)||0};return l.current.value="",s.current.value="",c.current.value="",u.current.value="",o.current.value="",d.current.value="",v}c.current.focus()}else l.current.focus()}())},children:"Add Event"})]})}),h=(n(165),function(e){var t=e.extra,n=e.currency,a=e.removeExtra;return Object(i.jsxs)("div",{className:"ExtraComponent flex-between",children:[Object(i.jsxs)("span",{className:"flex-cols",children:[Object(i.jsxs)("p",{children:[Object(i.jsx)("b",{children:t.name+":"})," ",(t.first>0?" Providing ":"Costing ")+t.first.toLocaleString().replaceAll(","," ")+" "+n," at year ",t.period[0]]}),Object(i.jsxs)("p",{children:["and ",(t.annual>0?"providing ":"costing ")+t.annual.toLocaleString().replaceAll(","," ")+" "+n," every year until ",t.period[t.period.length-1]]}),Object(i.jsxs)("p",{children:["where ",t.last.toLocaleString().replaceAll(","," ")+" "+n," will be ",t.last>0?" reimbursed.":"deducted."]})]}),Object(i.jsx)("span",{className:"flex-center",children:Object(i.jsxs)("button",{className:"x-button",onClick:function(){return a(t.id)},children:[Object(i.jsx)("div",{}),Object(i.jsx)("div",{})]})})]})}),f=function(){var e,t,n=new Date,r=n.getFullYear(),l=n.getMonth(),s=Object(a.useState)({}),b=Object(u.a)(s,2),f=b[0],O=b[1],v=Object(a.useState)({}),m=Object(u.a)(v,2),g=m[0],y=m[1],R=Object(a.useState)({}),S=Object(u.a)(R,2),M=S[0],C=S[1],L=Object(a.useState)([]),w=Object(u.a)(L,2),F=w[0],A=w[1],E=Object(a.useState)({worst:"",best:"",mean:"",median:"",sigma:"",s1:"",s2:""}),N=Object(u.a)(E,2),V=N[0],k=N[1],I=Object(a.useState)("SEK"),W=Object(u.a)(I,2),D=W[0],P=W[1],Y=Object(a.useRef)("SEK"),U=Object(a.useRef)(null),z=Object(a.useRef)(null),K=Object(a.useRef)(null),T=Object(a.useRef)(null),B=Object(a.useRef)(null),J=Object(a.useRef)(null),q=Object(a.useRef)(null),G=Object(a.useRef)(null),H=Object(a.useRef)(null),Q=Object(a.useRef)(null),X=Object(a.useRef)(null),Z=Object(a.useRef)(null),$=Object(a.useRef)(null),_=Object(a.useRef)(null);String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)};var ee=function(e){return e<=1e4?.15:8e4<=e&&e<1e5?.4:1e5<=e?.45:(30.7+14.3*Math.sin(256e-7*e-1.3))/100},te=function(e){A(F.filter((function(t){return t.id!==e})))},ne=function(e){var t,n,a,s,c,u,i,d,j,b,p=Math.max(11-l,0),x=parseFloat(null===(t=K.current)||void 0===t?void 0:t.value)||0,h=parseFloat(null===(n=X.current)||void 0===n?void 0:n.value)||0,f=parseFloat(null===(a=Z.current)||void 0===a?void 0:a.value)||0,v=parseFloat(null===(s=H.current)||void 0===s?void 0:s.value)||0,m=parseFloat(null===(c=Q.current)||void 0===c?void 0:c.value)||0,g=1+parseFloat(null===(u=J.current)||void 0===u?void 0:u.value)/100||1,R=1+parseFloat(null===(i=G.current)||void 0===i?void 0:i.value)/100||1,S=Math.max((null===(d=z.current)||void 0===d?void 0:d.value)-(null===(j=U.current)||void 0===j?void 0:j.value),0),M=function(e){var t=Array(parseInt(T.current.value)).fill(0);return e.map((function(e){e.period.map((function(n,a){var l=e.annual,s=Math.max(n-r,0);0===a?l+=e.first:a===e.period.length-1&&(l+=e.last),t[s]+=l}))})),t}(F),L=Math.min(1/(null===(b=_.current)||void 0===b?void 0:b.value),1),w=[],A=[],E=[x*e],N={sigmas:[],outcomes:[]},V=1;do{for(var I,W,P=parseFloat(null===(I=B.current)||void 0===I?void 0:I.value)||0,Y=parseFloat(null===(W=q.current)||void 0===W?void 0:W.value)||0,$=new Object({years:[r],worth:[x-M[0]],salaryWorth:[Math.round((P*(1-ee(P))-Y)*p)],fees:[12*Math.round(P-Y)*(h+f)/100],expenses:[12*Y+(M[0]<0?-M[0]:0)]}),te=0;++te<parseFloat(null===(ne=T.current)||void 0===ne?void 0:ne.value);){var ne,ae=$.years.length,re=S&&S<te?12*-Y:12*(P*(1-ee(P))-Y),le=re+$.worth[ae-1]+M[te],se=Math.round(le*(1+(o.normal.mean(v,m,3)-(h+f))/100));$.years.push(r+te),$.salaryWorth.push(S&&S<te?$.salaryWorth[ae-1]:Math.round(re+$.salaryWorth[ae-1])),$.worth.push(se),$.fees.push(Math.round(le*(h+f)/100)),$.expenses.push(Math.round(12*Y+(M[te]<te?-M[te]:te))),E[te]=(E[te]||0)+se,P*=g,Y*=R}A.push($.worth[te-1]),w.push($)}while(V++<e);A.sort((function(e,t){return e-t})),E=E.map((function(e){return Math.round(e/w.length)}));var ce=function(e){var t=Math.round(e.reduce((function(e,t){return e+t}))/e.length),n=e[Math.floor(e.length/2)],a=Math.round(Math.sqrt(e.reduce((function(e,n){return e+Math.pow(n-t,2)}),0)/(e.length-1)));return{mean:t,median:n,sigma:a}}(A),ue=ce.mean,oe=ce.median,ie=ce.sigma,de={x:[],no:[]};A.forEach((function(e){var t=ue-e,n=t>0?Math.ceil(t/(ie*L)):Math.floor(t/(ie*L)),a=t>0?Math.ceil(t/ie):Math.floor(t/ie);de.x[n]=(de.x[n]||1)+1,de.no[a]=(de.no[a]||1)+1})),Object.keys(de.x).sort((function(e,t){return e-t})).forEach((function(e){N.sigmas.push(e),N.outcomes.push(de.x[e])})),k({best:[A[A.length-1],D],worst:[A[0],D],mean:[ue,D],median:[oe,D],sigma:[ie,D],s1:[(100*((de.no[-1]||0)+(de.no[1]||0))/w.length).toPrecision(4),"%"],s2:[(100*((de.no[-1]||0)+(de.no[1]||0)+(de.no[-2]||0)+(de.no[2]||0))/w.length).toPrecision(4),"%"]}),O({labels:w[0].years,datasets:[{label:"Total",backgroundColor:"darkslateblue",borderColor:"rgba(0,0,0,1)",borderWidth:2,data:E},{label:"Invested",backgroundColor:"rgba(0,192,0,1)",borderColor:"rgba(0,0,0,1)",borderWidth:2,data:w[0].salaryWorth}]}),C({labels:w[0].years,datasets:[{label:"Fees & Inflation",backgroundColor:"rgba(255,100,0,1)",borderColor:"rgba(0,0,0,1)",borderWidth:2,data:w[0].fees},{label:"Expenses",backgroundColor:"rgba(192,0,0,1)",borderColor:"rgba(0,0,0,1)",borderWidth:2,data:w[0].expenses}]}),y({labels:N.sigmas,datasets:[{backgroundColor:"darkslateblue",borderColor:"rgba(0,0,0,1)",borderWidth:2,data:N.outcomes,pointRadius:0}]})};return Object(i.jsxs)("div",{className:"App flex-center",children:[Object(i.jsxs)("div",{className:"wrapper flex-rows",children:[Object(i.jsxs)("div",{className:"finance-inputs",children:[Object(i.jsxs)("header",{className:"flex-between",children:[Object(i.jsx)("h1",{children:"Financial planner"}),Object(i.jsxs)("select",{ref:Y,onChange:function(){return P(Y.current.value)},children:[Object(i.jsx)("option",{value:"SEK",children:"SEK"}),Object(i.jsx)("option",{value:"USD",children:"USD"}),Object(i.jsx)("option",{value:"EUR",children:"EUR"})]})]}),Object(i.jsx)("br",{}),Object(i.jsx)(d,{text:"Your age:",unit:"Yrs",ref:U,options:{type:"text",maxLength:2,defaultValue:25}}),Object(i.jsx)(d,{text:"Retirement age:",unit:"Yrs",ref:z,options:{type:"text",maxLength:2,defaultValue:40}}),Object(i.jsx)(d,{text:"Duration to analyze:",unit:"Yrs",ref:T,options:{type:"text",maxLength:2,defaultValue:20}}),Object(i.jsx)(d,{text:"Starting capital:",unit:D,ref:K,options:{defaultValue:25e4}}),Object(i.jsx)("hr",{}),Object(i.jsx)(d,{text:"Monthly gross salary:",unit:D,ref:B,options:{defaultValue:32e3}}),Object(i.jsx)(d,{text:"Annual salary increase:",unit:"%",ref:J,options:{type:"percent",defaultValue:5}}),Object(i.jsx)(d,{text:"Monthly costs:",unit:D,ref:q,options:{defaultValue:12e3}}),Object(i.jsx)(d,{text:"Annual costs increase:",unit:"%",ref:G,options:{type:"percent",defaultValue:5}}),Object(i.jsx)("hr",{}),Object(i.jsx)(d,{text:"Annual ROI excl. fees:",unit:"%",ref:H,options:{type:"percent",defaultValue:10.5}}),Object(i.jsx)(d,{text:"Standard deviation:",unit:"%",ref:Q,options:{type:"percent",defaultValue:16}}),Object(i.jsx)(d,{text:"Annual fees:",unit:"%",ref:X,options:{type:"percent",defaultValue:3}}),Object(i.jsx)(d,{text:"Inflation:",unit:"%",ref:Z,options:{type:"percent",defaultValue:2}}),Object(i.jsx)("hr",{}),Object(i.jsxs)("span",{className:"flex-between",children:[Object(i.jsx)(d,{text:"Iterations:",ref:$,options:{type:"text",maxLength:6,defaultValue:1e3}}),Object(i.jsx)(d,{text:"Precision:",ref:_,options:{type:"text",maxLength:3,defaultValue:2}}),Object(i.jsx)("button",{onClick:function(){return ne($.current.value)},children:"Run Analysis"})]}),Object(i.jsx)("hr",{}),Object(i.jsx)("h3",{children:"Add custom events:"}),Object(i.jsx)(x,{addExtra:function(e){e&&A([e].concat(Object(c.a)(F)))},currency:D}),Object(i.jsx)("div",{className:"extras",children:(F||[]).map((function(e){return Object(i.jsx)(h,{extra:e,currency:D,removeExtra:te},e.id)}))})]}),Object(i.jsxs)("div",{className:"flex-cols",children:[Object(i.jsx)(p,{type:"bar",title:"Total Assets",data:f,yLabel:D,legend:!0}),Object(i.jsx)(p,{type:"bar",title:"Annual Expenses",data:M,yLabel:D,legend:!0}),Object(i.jsx)(p,{type:"bar",title:"Distribution",data:g,xLabel:(null===(e=_.current)||void 0===e?void 0:e.value)?"Sigma / ".concat(null===(t=_.current)||void 0===t?void 0:t.value):"Sigma",yLabel:"No. Outcomes",legend:!1}),V.best&&Object(i.jsxs)("div",{className:"bottom-stats",children:[Object(i.jsx)("h3",{children:"Statistics summary:"}),Object(i.jsx)("span",{className:"flex-cols",children:Object.keys(V).map((function(e,t){return Object(i.jsx)(j,{text:e.capitalize()+":",stat:V[e.toLowerCase()]},t)}))})]})]})]}),Object(i.jsxs)("footer",{children:[Object(i.jsx)("hr",{}),"All Rights Reserved Emanuel Sl\xe4tteby 2021"]})]})},O=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,167)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,l=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),l(e),s(e)}))};s.a.render(Object(i.jsx)(r.a.StrictMode,{children:Object(i.jsx)(f,{})}),document.getElementById("root")),O()},52:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},63:function(e,t,n){}},[[166,1,2]]]);
//# sourceMappingURL=main.afe417f8.chunk.js.map