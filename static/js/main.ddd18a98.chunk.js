(this["webpackJsonpfinancial-planner"]=this["webpackJsonpfinancial-planner"]||[]).push([[0],{163:function(e,t,n){},164:function(e,t,n){},165:function(e,t,n){},166:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),l=n(45),s=n.n(l),c=(n(52),n(47)),u=n(5),i=n(46),o=(n(60),n(61),n(0)),d=Object(a.forwardRef)((function(e,t){var n=e.text,a=e.unit,r=e.options;return Object(o.jsxs)("span",{className:"InputComponent",children:[Object(o.jsx)("p",{children:n}),Object(o.jsx)("input",{ref:t,type:(null===r||void 0===r?void 0:r.type)||"number",maxLength:(null===r||void 0===r?void 0:r.maxLength)||"",defaultValue:(null===r||void 0===r?void 0:r.defaultValue)||""}),Object(o.jsx)("p",{children:a})]})})),j=(n(63),function(e){var t=e.text,n=e.stat;return Object(o.jsxs)("span",{className:"StatsComponent",children:[Object(o.jsx)("p",{children:Object(o.jsx)("b",{children:t})}),Object(o.jsx)("p",{children:n[0].toLocaleString().replaceAll(","," ")+" "+n[1]})]})}),b=n(27),p=(n(163),function(e){var t=e.type,n=e.title,a=e.data,r=e.xLabel,l=e.yLabel,s={title:{display:!0,text:n,fontSize:20},scales:{xAxes:[{scaleLabel:{display:r,labelString:r}}],yAxes:[{scaleLabel:{display:l,labelString:l}}]},legend:{display:e.legend,position:"bottom"}};return Object(o.jsxs)("div",{className:"ChartWrapperComponent",children:["bar"===t&&Object(o.jsx)(b.Bar,{data:a,options:s}),"line"===t&&Object(o.jsx)(b.Line,{data:a,options:s})]})}),x=(n(164),function(e){var t=e.addExtra,n=e.currency,r=(new Date).getFullYear(),l=Object(a.useRef)(null),s=Object(a.useRef)(null),c=Object(a.useRef)(null),u=Object(a.useRef)(null),i=Object(a.useRef)(null),d=Object(a.useRef)(null);return Object(o.jsxs)("div",{className:"AddExtrasComponent flex-cols",children:[Object(o.jsxs)("span",{children:[Object(o.jsxs)("span",{children:[Object(o.jsx)("p",{children:"Name of event: "}),Object(o.jsx)("input",{ref:l,type:"text"})]}),Object(o.jsxs)("span",{children:[Object(o.jsx)("p",{children:"Starting anno: "}),Object(o.jsx)("input",{ref:s,type:"number"})]}),Object(o.jsxs)("span",{children:[Object(o.jsx)("p",{children:"Ending anno: "}),Object(o.jsx)("input",{ref:c,type:"number"})]})]}),Object(o.jsxs)("span",{children:[Object(o.jsxs)("span",{children:[Object(o.jsx)("p",{children:"Initial impact: "}),Object(o.jsxs)("span",{children:[Object(o.jsx)("input",{ref:u,type:"number"}),Object(o.jsx)("p",{children:n})]})]}),Object(o.jsxs)("span",{children:[Object(o.jsx)("p",{children:"Final impact: "}),Object(o.jsxs)("span",{children:[Object(o.jsx)("input",{ref:i,type:"number"}),Object(o.jsx)("p",{children:n})]})]}),Object(o.jsxs)("span",{children:[Object(o.jsx)("p",{children:"Annual impact: "}),Object(o.jsxs)("span",{children:[Object(o.jsx)("input",{ref:d,type:"number"}),Object(o.jsx)("p",{children:n})]})]})]}),Object(o.jsx)("button",{onClick:function(){return t(function(){var e,t,n,a=null===(e=l.current)||void 0===e?void 0:e.value,o=parseInt(null===(t=s.current)||void 0===t?void 0:t.value),j=parseInt((null===(n=c.current)||void 0===n?void 0:n.value)||o);if(a)if(o<r)s.current.focus();else{if(!(j<o)){for(var b,p,x,h,f=[],O=o;O<=j;O++)f.push(O);var v={id:Math.floor(1e4*Math.random()),name:null===(b=l.current)||void 0===b?void 0:b.value,period:f,first:parseFloat(null===(p=u.current)||void 0===p?void 0:p.value)||0,last:parseFloat(null===(x=i.current)||void 0===x?void 0:x.value)||0,annual:parseFloat(null===(h=d.current)||void 0===h?void 0:h.value)||0};return l.current.value="",s.current.value="",c.current.value="",u.current.value="",i.current.value="",d.current.value="",v}c.current.focus()}else l.current.focus()}())},children:"Add Event"})]})}),h=(n(165),function(e){var t=e.extra,n=e.currency,a=e.removeExtra;return Object(o.jsxs)("div",{className:"ExtraComponent flex-between",children:[Object(o.jsxs)("span",{className:"flex-cols",children:[Object(o.jsx)("b",{children:t.name}),Object(o.jsxs)("p",{children:[(t.first>0?" Providing ":"Costing ")+t.first.toLocaleString().replaceAll(","," ")+" "+n," at year ",t.period[0]," and",(t.annual>0?" providing ":" costing ")+t.annual.toLocaleString().replaceAll(","," ")+" "+n," every year until ",t.period[t.period.length-1]," where"," "+t.last.toLocaleString().replaceAll(","," ")+" "+n," will be ",t.last>0?" reimbursed.":"deducted."]})]}),Object(o.jsx)("span",{className:"flex-center",children:Object(o.jsxs)("button",{className:"x-button",onClick:function(){return a(t.id)},children:[Object(o.jsx)("div",{}),Object(o.jsx)("div",{})]})})]})}),f=function(){var e,t,n=new Date,r=n.getFullYear(),l=n.getMonth(),s=Object(a.useState)({}),b=Object(u.a)(s,2),f=b[0],O=b[1],v=Object(a.useState)({}),m=Object(u.a)(v,2),g=m[0],y=m[1],M=Object(a.useState)({}),R=Object(u.a)(M,2),S=R[0],C=R[1],F=Object(a.useState)([]),L=Object(u.a)(F,2),w=L[0],A=L[1],E=Object(a.useState)({worst:"",best:"",mean:"",median:"",sigma:"",s1:"",s2:""}),N=Object(u.a)(E,2),V=N[0],k=N[1],I=Object(a.useState)("SEK"),W=Object(u.a)(I,2),D=W[0],P=W[1],Y=Object(a.useRef)("SEK"),U=Object(a.useRef)(null),z=Object(a.useRef)(null),K=Object(a.useRef)(null),T=Object(a.useRef)(null),B=Object(a.useRef)(null),J=Object(a.useRef)(null),q=Object(a.useRef)(null),G=Object(a.useRef)(null),H=Object(a.useRef)(null),Q=Object(a.useRef)(null),X=Object(a.useRef)(null),Z=Object(a.useRef)(null),$=Object(a.useRef)(null),_=Object(a.useRef)(null);String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)};var ee=function(e){return e<=1e4?.15:8e4<=e&&e<1e5?.4:1e5<=e?.45:(30.7+14.3*Math.sin(256e-7*e-1.3))/100},te=function(e){A(w.filter((function(t){return t.id!==e})))},ne=function(e){var t,n,a,s,c,u,o,d,j,b,p,x=Math.max(11-l,0),h=parseFloat(null===(t=K.current)||void 0===t?void 0:t.value)||0,f=parseFloat(null===(n=X.current)||void 0===n?void 0:n.value)||0,v=parseFloat(null===(a=Z.current)||void 0===a?void 0:a.value)||0,m=parseFloat(null===(s=H.current)||void 0===s?void 0:s.value)||0,g=parseFloat(null===(c=Q.current)||void 0===c?void 0:c.value)||0,M=1+parseFloat(null===(u=J.current)||void 0===u?void 0:u.value)/100||1,R=1+parseFloat(null===(o=G.current)||void 0===o?void 0:o.value)/100||1,S=Math.max((null===(d=z.current)||void 0===d?void 0:d.value)-(null===(j=U.current)||void 0===j?void 0:j.value),0),F=function(e){var t=Array(parseInt(T.current.value)).fill(0);return e.map((function(e){e.period.map((function(n,a){var l=e.annual,s=Math.max(n-r,0);0===a?l+=e.first:a===e.period.length-1&&(l+=e.last),t[s]+=l}))})),t}(w),L=Math.min(1/(null===(b=_.current)||void 0===b?void 0:b.value),1),A=[],E=[],N=[(h-Math.max(parseFloat(null===(p=q.current)||void 0===p?void 0:p.value),0)*x+(F[0]<0?-F[0]:0))*e],V={sigmas:[],outcomes:[]},I=1;do{for(var W,P,Y=Math.max(parseFloat(null===(W=B.current)||void 0===W?void 0:W.value),0)||0,$=Math.max(parseFloat(null===(P=q.current)||void 0===P?void 0:P.value),0)||0,te=new Object({years:[r],worth:[h-F[0]],salaryWorth:[Math.max((Y*(1-ee(Y))-$)*x,0)],fees:[Math.max(12*Math.round(Y-$)*(f+v)/100,0)],expenses:[Math.max($*x+(F[0]<0?-F[0]:0),0)]}),ne=0;++ne<parseFloat(null===(ae=T.current)||void 0===ae?void 0:ae.value);){var ae,re=te.years.length,le=S&&S<ne?12*-$:12*(Y*(1-ee(Y))-$),se=le+te.worth[re-1]+F[ne],ce=Math.round(se*(1+(i.normal.mean(m,g,3)-(f+v))/100));te.years.push(r+ne),te.salaryWorth.push(S&&S<ne?te.salaryWorth[re-1]:Math.max(le+te.salaryWorth[re-1],0)),te.worth.push(ce),te.fees.push(Math.round(Math.max(se*(f+v)/100,0))),te.expenses.push(Math.round(Math.max(12*$+(F[ne]<ne?-F[ne]:ne),0))),N[ne]=(N[ne]||0)+ce,Y=Math.min(Y*M,0),$=Math.min($*R,0)}E.push(te.worth[ne-1]),A.push(te)}while(I++<e);E.sort((function(e,t){return e-t})),N=N.map((function(e){return Math.round(e/A.length)}));var ue=function(e){var t=Math.round(e.reduce((function(e,t){return e+t}))/e.length),n=e[Math.floor(e.length/2)],a=Math.round(Math.sqrt(e.reduce((function(e,n){return e+Math.pow(n-t,2)}),0)/(e.length-1)));return{mean:t,median:n,sigma:a}}(E),ie=ue.mean,oe=ue.median,de=ue.sigma,je={x:[],no:[]};E.forEach((function(e){var t=ie-e,n=t>0?Math.ceil(t/(de*L)):Math.floor(t/(de*L)),a=t>0?Math.ceil(t/de):Math.floor(t/de);je.x[n]=(je.x[n]||1)+1,je.no[a]=(je.no[a]||1)+1})),Object.keys(je.x).sort((function(e,t){return e-t})).forEach((function(e){V.sigmas.push(e),V.outcomes.push(je.x[e])})),k({best:[E[E.length-1],D],worst:[E[0],D],mean:[ie,D],median:[oe,D],sigma:[de,D],s1:[(100*((je.no[-1]||0)+(je.no[1]||0))/A.length).toPrecision(4),"%"],s2:[(100*((je.no[-1]||0)+(je.no[1]||0)+(je.no[-2]||0)+(je.no[2]||0))/A.length).toPrecision(4),"%"]}),O({labels:A[0].years,datasets:[{label:"Total",backgroundColor:"darkslateblue",borderColor:"rgba(0,0,0,1)",borderWidth:2,data:N},{label:"Invested",backgroundColor:"rgba(0,192,0,1)",borderColor:"rgba(0,0,0,1)",borderWidth:2,data:A[0].salaryWorth}]}),C({labels:A[0].years,datasets:[{label:"Fees & Inflation",backgroundColor:"rgba(255,100,0,1)",borderColor:"rgba(0,0,0,1)",borderWidth:2,data:A[0].fees},{label:"Expenses",backgroundColor:"rgba(192,0,0,1)",borderColor:"rgba(0,0,0,1)",borderWidth:2,data:A[0].expenses}]}),y({labels:V.sigmas,datasets:[{backgroundColor:"darkslateblue",borderColor:"rgba(0,0,0,1)",borderWidth:2,data:V.outcomes,pointRadius:0}]})};return Object(o.jsxs)("div",{className:"App flex-center",children:[Object(o.jsxs)("div",{className:"wrapper flex-rows",children:[Object(o.jsxs)("div",{className:"finance-inputs",children:[Object(o.jsxs)("header",{className:"flex-between",children:[Object(o.jsx)("h1",{children:"Financial planner"}),Object(o.jsxs)("select",{ref:Y,onChange:function(){return P(Y.current.value)},children:[Object(o.jsx)("option",{value:"SEK",children:"SEK"}),Object(o.jsx)("option",{value:"USD",children:"USD"}),Object(o.jsx)("option",{value:"EUR",children:"EUR"})]})]}),Object(o.jsx)("br",{}),Object(o.jsx)(d,{text:"Your age:",unit:"Yrs",ref:U,options:{type:"text",maxLength:2,defaultValue:25}}),Object(o.jsx)(d,{text:"Retirement age:",unit:"Yrs",ref:z,options:{type:"text",maxLength:2,defaultValue:45}}),Object(o.jsx)(d,{text:"Duration to analyze:",unit:"Yrs",ref:T,options:{type:"text",maxLength:2,defaultValue:25}}),Object(o.jsx)(d,{text:"Starting capital:",unit:D,ref:K,options:{defaultValue:25e4}}),Object(o.jsx)("hr",{}),Object(o.jsx)(d,{text:"Monthly gross salary:",unit:D,ref:B,options:{defaultValue:32e3}}),Object(o.jsx)(d,{text:"Annual salary increase:",unit:"%",ref:J,options:{type:"percent",defaultValue:5}}),Object(o.jsx)(d,{text:"Monthly costs:",unit:D,ref:q,options:{defaultValue:12e3}}),Object(o.jsx)(d,{text:"Annual costs increase:",unit:"%",ref:G,options:{type:"percent",defaultValue:2}}),Object(o.jsx)("hr",{}),Object(o.jsx)(d,{text:"Annual ROI excl. fees:",unit:"%",ref:H,options:{type:"percent",defaultValue:10.5}}),Object(o.jsx)(d,{text:"Standard deviation:",unit:"%",ref:Q,options:{type:"percent",defaultValue:16}}),Object(o.jsx)(d,{text:"Annual fees:",unit:"%",ref:X,options:{type:"percent",defaultValue:3}}),Object(o.jsx)(d,{text:"Inflation:",unit:"%",ref:Z,options:{type:"percent",defaultValue:2}}),Object(o.jsx)("hr",{}),Object(o.jsxs)("span",{className:"flex-between",children:[Object(o.jsx)(d,{text:"Iterations:",ref:$,options:{type:"text",maxLength:6,defaultValue:1e3}}),Object(o.jsx)(d,{text:"Precision:",ref:_,options:{type:"text",maxLength:3,defaultValue:2}}),Object(o.jsx)("button",{onClick:function(){return ne($.current.value)},children:"Run Analysis"})]}),Object(o.jsx)("hr",{}),Object(o.jsx)("h3",{children:"Add custom events:"}),Object(o.jsx)(x,{addExtra:function(e){e&&A([e].concat(Object(c.a)(w)))},currency:D}),Object(o.jsx)("div",{className:"extras",children:(w||[]).map((function(e){return Object(o.jsx)(h,{extra:e,currency:D,removeExtra:te},e.id)}))})]}),Object(o.jsxs)("div",{className:"flex-cols",children:[Object(o.jsx)(p,{type:"bar",title:"Total Assets",data:f,yLabel:D,legend:!0}),Object(o.jsx)(p,{type:"bar",title:"Annual Expenses",data:S,yLabel:D,legend:!0}),Object(o.jsx)(p,{type:"bar",title:"Distribution",data:g,xLabel:(null===(e=_.current)||void 0===e?void 0:e.value)?"Sigma / ".concat(null===(t=_.current)||void 0===t?void 0:t.value):"Sigma",yLabel:"No. Outcomes",legend:!1}),V.best&&Object(o.jsxs)("div",{className:"bottom-stats",children:[Object(o.jsx)("h3",{children:"Statistics summary:"}),Object(o.jsx)("span",{className:"flex-cols",children:Object.keys(V).map((function(e,t){return Object(o.jsx)(j,{text:e.capitalize()+":",stat:V[e.toLowerCase()]},t)}))})]})]})]}),Object(o.jsxs)("footer",{children:[Object(o.jsx)("hr",{}),"All Rights Reserved Emanuel Sl\xe4tteby 2021"]})]})},O=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,167)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,l=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),l(e),s(e)}))};s.a.render(Object(o.jsx)(r.a.StrictMode,{children:Object(o.jsx)(f,{})}),document.getElementById("root")),O()},52:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},63:function(e,t,n){}},[[166,1,2]]]);
//# sourceMappingURL=main.ddd18a98.chunk.js.map